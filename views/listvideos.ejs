<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.16/css/jquery.dataTables.css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/jqueryui/1.11.1/jquery-ui.min.css" />
    <script src="https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js"></script>
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.16/js/jquery.dataTables.js"></script>
    <script>
        var data = [
            {
                "name": "Tiger Nixon",
                "position": "System Architect",
                "salary": "$3,120",
                "start_date": "2011/04/25",
                "office": "Edinburgh",
                "extn": "5421"
            },
            {
                "name": "Garrett Winters",
                "position": "Director",
                "salary": "$5,300",
                "start_date": "2011/07/25",
                "office": "Edinburgh",
                "extn": "8422"
            }
        ];
        //函数的参数是固定，不能更改。  
        function retrieveData(sSource, aoData, fnCallback) {
            //查询条件称加入参数数组     
            var year = document.getElementById('year').value;
            var month = document.getElementById('month').value;
            $.ajax({
                type: "POST",
                //contentType: "application/json",   //这段代码不要加，我时延的是否后台会接受不到数据  
                url: sSource,
                dataType: "json",
                data: "jsonparam=" + JSON.stringify(aoData) + "&year=" + year + "&month=" + month, //以json格式传递(struts2后台还是以string类型接受),year和month直接作为参数传递。  
                success: function (data) {
                    $("#url_sortdata").val(data.aaData);
                    fnCallback(data); //服务器端返回的对象的returnObject部分是要求的格式     
                }
            });
        }
        $(document).ready(function () {
            $('#example').DataTable({
                "bProcessing": true,       //加载数据时显示正在加载信息   
                //"bServerSide": true,      //指定从服务器端获取数据  
                //"sAjaxSource": "" , //获取数据的ajax方法的URL  
                //"fnServerData":retrieveData, //与后台交互获取数据的处理函数  
                "bJQueryUI": true, //开关，是否启用JQueryUI风格
                "bAutoWidth": false, //自适应宽度
                "aaSorting": [[2, "asc"]], //排序 第一列为0
                "sPaginationType": "full_numbers",
                "oLanguage": {
                    "sProcessing": "正在加载中......",
                    "sLengthMenu": "每页显示 _MENU_ 条记录",
                    "sZeroRecords": "对不起，查询不到相关数据！",
                    "sEmptyTable": "表中无数据存在！",
                    "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录",
                    "sInfoFiltered": "数据表中共为 _MAX_ 条记录",
                    "sSearch": "搜索",
                    "oPaginate": {
                        "sFirst": "首页",
                        "sPrevious": "上一页",
                        "sNext": "下一页",
                        "sLast": "末页"
                    }
                }, //多语言配置
                data: data,
                columns: [
                    { data: 'name' },
                    { data: 'position' },
                    { data: 'salary' },
                    { data: 'office' }
                ]
            });
            //    $('#example').dataTable();
        });
    </script>

    <body>
        <table cellpadding="0" cellspacing="0" border="0" class="display" id="example">
            <thead>
                <tr>
                    <th>name</th>
                    <th>position</th>
                    <th>salary</th>
                    <th>office</th>
                </tr>
            </thead>
            <tbody>

            </tbody>

        </table>
    </body>

</html>